<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Google検索アルゴリズムの流出？と言われている物を実際に見てみた - 塩の惑星</title><meta name="description" content="最近（2024年5月）、Googleから検索に関連する内部APIのソースコードや内部文章がリークされたと話題ですね。 Google検索の検索順位はサイト運営する人には重要で、SEOなど検索アルゴリズムを逆手に取って検索順位をあげようと試みたりする場合があります。 その為、注目が集まっているのだと思います。 今回の流出を調べてみてわかったことは、Google検索の内部の重要なソースコードを何者かがリークしたと言うよりは、社内で使われているAPIの定義を誤って外部に見えるようしてしまった感じのようです。 Google側の温度感はそこまで高く無いように見えていて、流出した情報は未だに正式な手段で入手できる状況です。&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://corkborg.github.io/google-seo-leak-2024/"><link rel="alternate" type="application/atom+xml" href="https://corkborg.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://corkborg.github.io/feed.json"><meta property="og:title" content="Google検索アルゴリズムの流出？と言われている物を実際に見てみた"><meta property="og:image" content="https://corkborg.github.io/media/posts/42/sukurinsiyotuto-2024-06-03-2.24.29.png"><meta property="og:image:width" content="1203"><meta property="og:image:height" content="647"><meta property="og:site_name" content="塩の惑星"><meta property="og:description" content="最近（2024年5月）、Googleから検索に関連する内部APIのソースコードや内部文章がリークされたと話題ですね。 Google検索の検索順位はサイト運営する人には重要で、SEOなど検索アルゴリズムを逆手に取って検索順位をあげようと試みたりする場合があります。 その為、注目が集まっているのだと思います。 今回の流出を調べてみてわかったことは、Google検索の内部の重要なソースコードを何者かがリークしたと言うよりは、社内で使われているAPIの定義を誤って外部に見えるようしてしまった感じのようです。 Google側の温度感はそこまで高く無いように見えていて、流出した情報は未だに正式な手段で入手できる状況です。&hellip;"><meta property="og:url" content="https://corkborg.github.io/google-seo-leak-2024/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://corkborg.github.io/media/website/icon.ico" type="image/x-icon"><link rel="stylesheet" href="https://corkborg.github.io/assets/css/prism.css?v=b46352844c4922bafa71c2012d20bbac"><link rel="stylesheet" href="https://corkborg.github.io/assets/css/style.css?v=84f9c70dec94b79716bfc8c68779f628"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://corkborg.github.io/google-seo-leak-2024/"},"headline":"Google検索アルゴリズムの流出？と言われている物を実際に見てみた","datePublished":"2024-06-02T15:35","dateModified":"2024-06-04T17:22","image":{"@type":"ImageObject","url":"https://corkborg.github.io/media/posts/42/sukurinsiyotuto-2024-06-03-2.24.29.png","height":647,"width":1203},"description":"最近（2024年5月）、Googleから検索に関連する内部APIのソースコードや内部文章がリークされたと話題ですね。 Google検索の検索順位はサイト運営する人には重要で、SEOなど検索アルゴリズムを逆手に取って検索順位をあげようと試みたりする場合があります。 その為、注目が集まっているのだと思います。 今回の流出を調べてみてわかったことは、Google検索の内部の重要なソースコードを何者かがリークしたと言うよりは、社内で使われているAPIの定義を誤って外部に見えるようしてしまった感じのようです。 Google側の温度感はそこまで高く無いように見えていて、流出した情報は未だに正式な手段で入手できる状況です。&hellip;","author":{"@type":"Person","name":"ミズソバ","url":"https://corkborg.github.io/authors/mizusoba/"},"publisher":{"@type":"Organization","name":"ミズソバ","logo":{"@type":"ImageObject","url":"https://corkborg.github.io/media/website/logo2.png","height":344,"width":1000}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8CYBCM4RJ"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8CYBCM4RJ');</script></head><body><header><div id="header-upper"><div></div><a class="main-logo" href="https://corkborg.github.io/"><img src="https://corkborg.github.io/media/website/logo2.png" alt="塩の惑星" height="80px"></a><div></div></div><div><nav class="menu-navbar"><div class="menu"><div><a href="https://corkborg.github.io/contact/" target="_self">問い合わせ</a></div></div></nav></div></header><div id="main-wrapper-with-sidebar"><main><article class="post-only"><header><h1>Google検索アルゴリズムの流出？と言われている物を実際に見てみた</h1><div class="modified-time">公開日: <time datetime="2024-06-02T15:35">2024-06-02 </time><span id="post-tags"></span></div></header><figure id="featured-image"><img src="https://corkborg.github.io/media/posts/42/sukurinsiyotuto-2024-06-03-2.24.29.png" srcset="https://corkborg.github.io/media/posts/42/responsive/sukurinsiyotuto-2024-06-03-2.24.29-xs.png 300w, https://corkborg.github.io/media/posts/42/responsive/sukurinsiyotuto-2024-06-03-2.24.29-sm.png 480w, https://corkborg.github.io/media/posts/42/responsive/sukurinsiyotuto-2024-06-03-2.24.29-md.png 749w, https://corkborg.github.io/media/posts/42/responsive/sukurinsiyotuto-2024-06-03-2.24.29-xl.png 1200w" sizes="(max-width: 1200px) 100vw, 1200px" loading="eager" height="647" width="1203" alt="GoogleAPI PerDocDataのページ"></figure><div id="post-entry"><p>最近（2024年5月）、Googleから検索に関連する内部APIのソースコードや内部文章がリークされたと話題ですね。</p><p>Google検索の検索順位はサイト運営する人には重要で、SEOなど検索アルゴリズムを逆手に取って検索順位をあげようと試みたりする場合があります。<br>その為、注目が集まっているのだと思います。</p><p>今回の流出を調べてみてわかったことは、Google検索の内部の重要なソースコードを何者かがリークしたと言うよりは、社内で使われているAPIの定義を誤って外部に見えるようしてしまった感じのようです。<br>Google側の温度感はそこまで高く無いように見えていて、流出した情報は未だに正式な手段で入手できる状況です。</p><p>そして、流出したものはあくまでも<strong>API</strong>についての文章であって、Google検索内部の仕組みについては依然不明なので、分かる事としてはGoogle内部のシステムの構造や、Googleの組織構造などくらいです。</p><h2>Google APIとは</h2><p>Googleでは顧客向けにAPIを公開していて、APIを使うことで顧客のシステムにGoogleの機能を利用する事ができるようになっています。</p><p>Googleはこの考え方を社内向けにも応用していて、Google内部の人も社内の機能を使いたいと考えたら、Google内部の向けのAPIを使用してその機能を利用するような仕組みになっているようです（こういう形態はマイクロサービスと言う概念と関係があります）。</p><p>つまり、Googleでは社外向けのAPIも社内向けのAPIも同一の仕組みで取り扱っていて、社外向けのAPIを抜粋して外部に公開する仕組みがあるようで、それらのフローで問題が起きたようです。</p><p><a href="https://github.com/googleapis/elixir-google-api">https://github.com/googleapis/elixir-google-api</a></p><h2>Googleが誤って公開してしまったもの</h2><p>今回誤って公開されてしまったものは、ContentWarehouseと呼ばれるものです。</p><p>Warehouseは直訳すると倉庫ですが、IT業界では一般的に大規模なデータを処理することに特化したデータベースの事を指します。</p><p>これらはコンテンツ情報（Webサイトなど）を処理する大規模なデータベースにアクセスするためのAPIのように見えます。</p><p>ただし、今回公開されてしまったものはContentWarehouse API内部のソースコード…ではなく、APIで取り扱うことが可能な<strong>データの構造（モデル）</strong>の定義です。</p><h2>実際のデータ</h2><p>こちらが、Googleが誤って公開してしまったGitHubのPRです。<br><a href="https://github.com/googleapis/elixir-google-api/pull/11021">https://github.com/googleapis/elixir-google-api/pull/11021</a></p><p>こちらが、誤って公開した物を削除するPRです。<br><a href="https://github.com/googleapis/elixir-google-api/pull/11378"></a><a href="https://github.com/googleapis/elixir-google-api/pull/11378">https://github.com/googleapis/elixir-google-api/pull/11378</a></p><p>GitHubでは一度誤って公開した情報を完全に消すにはファイルの削除だけでなく、Gitの履歴から削除するとともにリポジトリを作り直したりする必要があります。これらの対応をGoogleは行っていません。</p><p>削除する直前のコミットidは <code>e6a95f9335bf2fcb3cef77d99eecf3e0ca8d65c7</code>です。<br>Gitに詳しい方であれば上記IDをチェックアウトしてもらえば該当の定義を見ることができると思います。</p><h2>データ構造（モデル）の定義とは</h2><p>モデルというものはAPI間や機能間でデータをやり取りするために、転送する予定のデータの内容を事前に取り決めをしておくためのものです。</p><p>つまり、このAPIのモデルの定義を見るとGoogle検索がContentWarehouseにアクセスする際に送っている情報が推測できる可能性があります。</p><p>ただ、このようなデータ構造の定義書というのはいくつかの点で注意する必要があります。例を挙げると</p><ul><li>過去に使われていたものが互換性の問題で残されている</li><li>送っているけど内部では使われていない物</li><li>システムでは使う予定はないが記録として併記されていると嬉しい物</li><li>メソッド名やコメントが実態を表していない場合</li><li>開発版の可能性</li><li>データ構造が複数の機能に参照されていて片方には必要の無い情報（Google広告向けなど）</li></ul><p>これらは、どこの組織のシステムでも割とよくあることで特殊な事例ではありません。そのため、APIのドキュメントだけでは内部の動きを物語る確実な証拠にはならない感じです。</p><p>今回のAPIドキュメントに書いてある内容をそのまま鵜呑みにするのは良くないと思います。</p><h2>APIデータの見方</h2><p>ソースコードを直接見てもよいのですが該当のドキュメントはElixirというプログラミング言語で書かれていてExDocという機能でHTMLを生成できます。</p><p>Elixirをインストールした後に下記の様にコマンドを実行すると今回の件のHTMLドキュメントが生成されます。</p><pre>cd clients/content_warehouse/<br>mix deps.get<br>mix docs</pre><p>docsディレクトリにHTMLが生成されます。<br>index.htmlを開くとこんな感じです。</p><figure class="post__image"><img loading="lazy" src="https://corkborg.github.io/media/posts/42//sukurinsiyotuto-2024-06-02-14.03.53.png" alt="" width="1846" height="670" sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://corkborg.github.io/media/posts/42//responsive/sukurinsiyotuto-2024-06-02-14.03.53-xs.png 300w, https://corkborg.github.io/media/posts/42//responsive/sukurinsiyotuto-2024-06-02-14.03.53-sm.png 480w, https://corkborg.github.io/media/posts/42//responsive/sukurinsiyotuto-2024-06-02-14.03.53-md.png 749w, https://corkborg.github.io/media/posts/42//responsive/sukurinsiyotuto-2024-06-02-14.03.53-xl.png 1200w"></figure><p>PerDocDataというデータ構造がGoogle検索のAPIリクエストを集約している物のように見えるのでそこから見ていくと面白いかもしれません。</p><p> </p></div><div class="modified-time">更新日: <time datetime="2024-06-04T17:22">2024-06-04</time></div><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcorkborg.github.io%2Fgoogle-seo-leak-2024%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer" aria-label="Share with Facebook"><svg class="u-icon"><use xlink:href="https://corkborg.github.io/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fcorkborg.github.io%2Fgoogle-seo-leak-2024%2F&amp;via=%E5%A1%A9%E3%81%AE%E6%83%91%E6%98%9F&amp;text=Google%E6%A4%9C%E7%B4%A2%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0%E3%81%AE%E6%B5%81%E5%87%BA%EF%BC%9F%E3%81%A8%E8%A8%80%E3%82%8F%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E7%89%A9%E3%82%92%E5%AE%9F%E9%9A%9B%E3%81%AB%E8%A6%8B%E3%81%A6%E3%81%BF%E3%81%9F" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer" target="_blank" aria-label="Share with Twitter"><svg class="u-icon"><use xlink:href="https://corkborg.github.io/assets/svg/svg-map.svg#twitter"/></svg></a></div><nav id="post-navigation"><div class="post-navigation-link"><a href="https://corkborg.github.io/nikon-z6-24-70mm-f4-in-rain/" rel="prev">&larr; 前の記事: 防滴性能が曖昧な24-70mm f/4 SをNikon Z6で雨の中使った話</a></div><div class="post-navigation-link"><a href="https://corkborg.github.io/richoh-wg-6-on-40m-dive/" rel="next">次の記事: 水深20mまでのRICOH WG-6を40m級のダイビングで使うとどうなるか？ &rarr;</a></div></nav></article></main><aside><section><h3>Featured posts</h3><ol class="featured-posts__list"><li><a href="https://corkborg.github.io/created-kanji-to-time/" class="invert">日本語や漢字の日付をPythonのdatetimeに変換するライブラリを作った</a></li><li><a href="https://corkborg.github.io/publii-is-good-website-generator/" class="invert">使いやすいエディターで静的サイト生成できるPubliiがおすすめな話</a></li><li><a href="https://corkborg.github.io/energy-saving-battle-gaming-pc-vs-apple-silicon-mac/" class="invert">ゲーミングPCは電気代が高い！電気代が安いApple Silicon Macのゲームでの省電力能力を検証</a></li><li><a href="https://corkborg.github.io/steam-games-support-apple-silicon/" class="invert">Apple Silicon Macで遊べるゲームリスト. M1 Macで検証してみた</a></li><li><a href="https://corkborg.github.io/arma3-support-apple-silicon-m1-macbook-air/" class="invert">Arma3はApple Siliconにネイティブ対応している？M1 MacBook Airで試してみた</a></li></ol></section></aside></div><footer><nav class="menu-navbar"><div class="menu"><div><a href="https://corkborg.github.io/contact/" target="_self">問い合わせ</a></div></div></nav><div id="footer-lower"><div></div><a class="main-logo" href="https://corkborg.github.io/"><img src="https://corkborg.github.io/media/website/logo2.png" alt="塩の惑星" height="80px"></a><div></div></div></footer><script defer="defer" src="https://corkborg.github.io/assets/js/prism.js?v=2730b884bcd782a7b6ffd13dcb5504c0"></script><script async src="https://corkborg.github.io/assets/js/scripts.js?v=3733efd39cd6c799b95c8fcb96993840"></script></body></html>